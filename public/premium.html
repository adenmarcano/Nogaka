<body style="background-color: #000000; color: #fff; font-family: 'Segoe UI', sans-serif;">
  <!-- Header Include -->
  <div id="header-container"></div>

  <!-- Promo Banner with Animation -->
  <div class="promo-banner" style="background: linear-gradient(90deg, #167D9D, #75A439); padding: 12px 0; text-align: center; font-weight: bold; color: white; position: relative; overflow: hidden;">
    <span style="animation: pulse 2s infinite;">🎁</span> 
    <span class="promo-text" style="position: relative; display: inline-block;">
      Spin now for a chance to win a <strong>7-Day Premium Pass</strong> – Daily bonus spins unlocked!
    </span>
    <div class="confetti" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;"></div>
  </div>

  <!-- Main Content -->
  <main class="container" style="background-color: #18203D; padding: 20px; max-width: 93%; margin: 20px auto; border-radius: 10px; box-shadow: 0 10px 30px rgba(23, 126, 157, 0.3);">
    <!-- Premium Options Section -->
    <section class="premium-options" style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; margin-bottom: 40px; padding: 20px; background: rgba(117, 164, 57, 0.1); border-radius: 10px;">
      <div class="premium-card" style="flex: 1; min-width: 250px; padding: 20px; background: linear-gradient(135deg, #301934, #18203D); border-radius: 10px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: transform 0.3s;">
        <h3 style="color: #75A439;">✨ Create Premium Account</h3>
        <p style="margin: 15px 0;">Unlock all features instantly!</p>
        <button class="premium-btn" style="
          padding: 12px 24px;
          background: linear-gradient(90deg, #75A439, #167D9D);
          color: white;
          border: none;
          border-radius: 30px;
          font-weight: bold;
          cursor: pointer;
          transition: all 0.3s;
          box-shadow: 0 4px 10px rgba(117, 164, 57, 0.4);
        ">Upgrade Now</button>
        <div class="premium-perks" style="margin-top: 20px; text-align: left;">
          <p style="display: flex; align-items: center; margin: 10px 0;"><span style="color: #75A439; margin-right: 10px;">✓</span> Ad-free experience</p>
          <p style="display: flex; align-items: center; margin: 10px 0;"><span style="color: #75A439; margin-right: 10px;">✓</span> Exclusive content</p>
          <p style="display: flex; align-items: center; margin: 10px 0;"><span style="color: #75A439; margin-right: 10px;">✓</span> Early access to new releases</p>
        </div>
      </div>

      <div class="wheel-option" style="flex: 1; min-width: 250px; padding: 20px; background: linear-gradient(135deg, #18203D, #301934); border-radius: 10px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: transform 0.3s;">
        <h3 style="color: #167D9D;">🎰 Try Your Luck</h3>
        <p style="margin: 15px 0;">Spin the slots for a chance to win premium!</p>
        <button id="try-luck-btn" style="
          padding: 12px 24px;
          background: linear-gradient(90deg, #167D9D, #75A439);
          color: white;
          border: none;
          border-radius: 30px;
          font-weight: bold;
          cursor: pointer;
          transition: all 0.3s;
          box-shadow: 0 4px 10px rgba(22, 125, 157, 0.4);
        ">Spin to Win</button>
        <div class="wheel-perks" style="margin-top: 20px; text-align: left;">
          <p style="display: flex; align-items: center; margin: 10px 0;"><span style="color: #167D9D; margin-right: 10px;">🎯</span> Daily free spins</p>
          <p style="display: flex; align-items: center; margin: 10px 0;"><span style="color: #167D9D; margin-right: 10px;">🎁</span> Guaranteed rewards</p>
          <p style="display: flex; align-items: center; margin: 10px 0;"><span style="color: #167D9D; margin-right: 10px;">💎</span> Chance to win premium</p>
        </div>
      </div>
    </section>

    <!-- Slot Machine Section -->
    <div style="margin-bottom: 30px;">
      <h2>Welcome back, <span id="loggedInUsername" style="color: #75A439;"></span> 👋</h2>
      <p>Here's your daily spin. Don't forget to check your rewards and drop a comment!</p>
    </div>

    <div id="slot-machine" style="
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      background: #301934;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.5);
      position: relative;
      border: 5px solid #167D9D;
    ">
      <div id="slot-reels" style="
        display: flex;
        justify-content: space-between;
        height: 150px;
        margin-bottom: 20px;
        position: relative;
        overflow: hidden;
      ">
        <!-- The reels will be generated by JavaScript -->
      </div>
      
      <div id="slot-payline" style="
        position: absolute;
        top: 50%;
        left: 0;
        width: 100%;
        height: 4px;
        background: #75A439;
        transform: translateY(-50%);
        box-shadow: 0 0 10px #75A439;
        z-index: 10;
      "></div>
      
      <button id="spin-btn" style="
        display: block;
        width: 100%;
        padding: 15px 0;
        background: linear-gradient(90deg, #75A439, #167D9D);
        color: white;
        font-size: 18px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
        box-shadow: 0 5px 15px rgba(117, 164, 57, 0.5);
        transition: all 0.3s;
        position: relative;
        overflow: hidden;
      ">
        <span class="btn-text">SPIN NOW!</span>
        <span class="btn-glow" style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%); opacity: 0; transform: rotate(45deg);"></span>
      </button>
    </div>

    <div id="result-message" style="
      margin: 30px auto;
      padding: 20px;
      font-size: 22px;
      color: #fff;
      display: none;
      background: rgba(117, 164, 57, 0.2);
      border-radius: 10px;
      max-width: 80%;
      border: 2px solid #75A439;
      animation: pulseBorder 2s infinite;
      text-align: center;
    "></div>

    <div id="celebration" style="
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 100;
      flex-direction: column;
    ">
      <div style="
        background: linear-gradient(135deg, #18203D, #301934);
        padding: 30px;
        border-radius: 20px;
        text-align: center;
        max-width: 80%;
        border: 3px solid #75A439;
        box-shadow: 0 0 30px rgba(117, 164, 57, 0.6);
      ">
        <h2 style="color: #75A439; font-size: 28px; margin-bottom: 20px;">🎉 CONGRATULATIONS! 🎉</h2>
        <p id="win-message" style="font-size: 20px; margin-bottom: 20px;"></p>
        <button id="claim-btn" style="
          padding: 12px 24px;
          background: linear-gradient(90deg, #75A439, #167D9D);
          color: white;
          border: none;
          border-radius: 30px;
          font-weight: bold;
          cursor: pointer;
          font-size: 18px;
          box-shadow: 0 5px 15px rgba(117, 164, 57, 0.5);
        ">CLAIM YOUR PRIZE!</button>
      </div>
    </div>

    <!-- Saved Rewards Section -->
    <section style="margin-top: 60px; text-align: left;">
      <h3 style="color: #75A439; font-size: 24px; display: flex; align-items: center;">
        <span style="margin-right: 10px;">🎁</span> Your Recent Rewards
      </h3>
      <ul style="list-style: none; padding-left: 0; margin-top: 20px;">
        <li style="padding: 12px; background: rgba(117, 164, 57, 0.1); border-radius: 8px; margin-bottom: 10px; display: flex; align-items: center;">
          <span style="color: #75A439; margin-right: 10px; font-size: 20px;">✓</span>
          <div>
            <strong>7-Day Premium</strong>
            <div style="color: #167D9D; font-size: 14px;">April 12, 2025</div>
          </div>
        </li>
        <li style="padding: 12px; background: rgba(117, 164, 57, 0.1); border-radius: 8px; margin-bottom: 10px; display: flex; align-items: center;">
          <span style="color: #75A439; margin-right: 10px; font-size: 20px;">✓</span>
          <div>
            <strong>3-Day Trial</strong>
            <div style="color: #167D9D; font-size: 14px;">April 11, 2025</div>
          </div>
        </li>
        <li style="padding: 12px; background: rgba(117, 164, 57, 0.1); border-radius: 8px; margin-bottom: 10px; display: flex; align-items: center;">
          <span style="color: #75A439; margin-right: 10px; font-size: 20px;">✓</span>
          <div>
            <strong>Bonus Wallpaper Pack</strong>
            <div style="color: #167D9D; font-size: 14px;">April 10, 2025</div>
          </div>
        </li>
      </ul>
    </section>

    <!-- Comment Section -->
    <section style="margin-top: 60px; text-align: left;">
      <h3 style="color: #75A439; font-size: 24px; display: flex; align-items: center;">
        <span style="margin-right: 10px;">💬</span> User Comments
      </h3>
      <div style="margin-top: 20px; background: rgba(22, 125, 157, 0.1); padding: 15px; border-radius: 10px;">
        <div style="display: flex; align-items: center; margin-bottom: 15px;">
          <div style="width: 40px; height: 40px; background: #167D9D; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 10px; font-weight: bold;">Y</div>
          <div>
            <strong style="color: #167D9D;">@YukiChan</strong>
            <div>Just got a free trial! This is awesome 😍</div>
            <div style="font-size: 12px; color: #75A439; margin-top: 5px;">2 hours ago</div>
          </div>
        </div>
        <div style="display: flex; align-items: center;">
          <div style="width: 40px; height: 40px; background: #75A439; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 10px; font-weight: bold;">S</div>
          <div>
            <strong style="color: #75A439;">@ShadowKiller</strong>
            <div>Can't believe I won premium on my first spin!</div>
            <div style="font-size: 12px; color: #167D9D; margin-top: 5px;">1 day ago</div>
          </div>
        </div>
      </div>
      <textarea placeholder="Leave a comment..." style="
        width: 100%;
        margin-top: 15px;
        padding: 15px;
        border-radius: 10px;
        border: 2px solid #167D9D;
        background-color: #301934;
        color: #fff;
        font-size: 16px;
        min-height: 100px;
      "></textarea>
      <button style="
        margin-top: 15px;
        padding: 12px 24px;
        background: linear-gradient(90deg, #167D9D, #75A439);
        border: none;
        color: white;
        border-radius: 30px;
        font-weight: bold;
        cursor: pointer;
        font-size: 16px;
        transition: transform 0.3s;
      " onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='none'">Post Comment</button>
    </section>
  </main>

  <!-- Footer Include -->
  <div id="footer-container"></div>

  <!-- JavaScript -->
  <script>
    // Check if user is logged in
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    
    if (currentUser) {
      // Display the username
      document.getElementById('loggedInUsername').textContent = currentUser.username;
    } else {
      // Redirect to login page if not logged in
      window.location.href = 'account.html'; 
    }

    // Load Header and Footer
    fetch('header.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('header-container').innerHTML = data;
        initHeaderScripts();
      });

    fetch('footer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('footer-container').innerHTML = data;
        initFooterScripts();
      });

    // Slot machine functionality
    const spinBtn = document.getElementById('spin-btn');
    const slotReels = document.getElementById('slot-reels');
    const resultMessage = document.getElementById('result-message');
    const celebration = document.getElementById('celebration');
    const winMessage = document.getElementById('win-message');
    
    // Slot symbols
    const symbols = [
      { name: "7-Day Premium", emoji: "💎", color: "#75A439", weight: 10 },
      { name: "3-Day Trial", emoji: "🎁", color: "#167D9D", weight: 20 },
      { name: "Wallpaper Pack", emoji: "🖼️", color: "#301934", weight: 30 },
      { name: "1-Month Premium", emoji: "👑", color: "#FFD700", weight: 5 },
      { name: "24-Hour Trial", emoji: "⏳", color: "#167D9D", weight: 25 },
      { name: "Bonus Spin", emoji: "🎰", color: "#FF6B6B", weight: 10 }
    ];
    
    // Create weighted symbol array for randomization
    let weightedSymbols = [];
    symbols.forEach(symbol => {
      for (let i = 0; i < symbol.weight; i++) {
        weightedSymbols.push(symbol);
      }
    });
    
    // Initialize slot reels
    function initializeSlots() {
      slotReels.innerHTML = '';
      
      for (let i = 0; i < 3; i++) {
        const reel = document.createElement('div');
        reel.className = 'slot-reel';
        reel.style.width = '30%';
        reel.style.height = '100%';
        reel.style.position = 'relative';
        reel.style.overflow = 'hidden';
        reel.style.borderRadius = '5px';
        reel.style.backgroundColor = '#18203D';
        reel.style.border = '2px solid #75A439';
        
        // Create reel strip with symbols
        const reelStrip = document.createElement('div');
        reelStrip.className = 'reel-strip';
        reelStrip.style.position = 'absolute';
        reelStrip.style.width = '100%';
        reelStrip.style.transition = 'none';
        
        // Add symbols to the strip (duplicated for seamless looping)
        for (let j = 0; j < 20; j++) {
          const randomSymbol = weightedSymbols[Math.floor(Math.random() * weightedSymbols.length)];
          const symbolElement = document.createElement('div');
          symbolElement.className = 'slot-symbol';
          symbolElement.style.height = '50px';
          symbolElement.style.display = 'flex';
          symbolElement.style.alignItems = 'center';
          symbolElement.style.justifyContent = 'center';
          symbolElement.style.fontSize = '30px';
          symbolElement.textContent = randomSymbol.emoji;
          symbolElement.setAttribute('data-name', randomSymbol.name);
          symbolElement.setAttribute('data-color', randomSymbol.color);
          reelStrip.appendChild(symbolElement);
        }
        
        reel.appendChild(reelStrip);
        slotReels.appendChild(reel);
      }
    }
    
    // Spin the slots
    let spinning = false;
    
    spinBtn.addEventListener('click', () => {
      if (spinning) return;
      spinning = true;
      
      // Button click effect
      spinBtn.querySelector('.btn-glow').style.opacity = '1';
      spinBtn.querySelector('.btn-glow').style.transition = 'none';
      setTimeout(() => {
        spinBtn.querySelector('.btn-glow').style.transition = 'opacity 0.5s';
        spinBtn.querySelector('.btn-glow').style.opacity = '0';
      }, 100);
      
      // Disable button during spin
      spinBtn.disabled = true;
      spinBtn.style.opacity = '0.7';
      spinBtn.querySelector('.btn-text').textContent = 'SPINNING...';
      resultMessage.style.display = 'none';
      
      const reels = document.querySelectorAll('.reel-strip');
      const results = [];
      
      reels.forEach((reel, index) => {
        // Reset position
        reel.style.transition = 'none';
        reel.style.top = '0px';
        
        // Force reflow
        void reel.offsetHeight;
        
        // Calculate random stop position (align with center symbol)
        const symbolHeight = 50;
        const visibleSymbols = 3;
        const totalSymbols = reel.children.length;
        const randomOffset = Math.floor(Math.random() * totalSymbols);
        const stopPosition = -(randomOffset * symbolHeight);
        
        // Add slight delay between reels
        setTimeout(() => {
          reel.style.transition = 'top 3s cubic-bezier(0.1, 0.5, 0.3, 1)';
          reel.style.top = `${stopPosition}px`;
          
          // Get the result symbol (centered one)
          setTimeout(() => {
            const resultIndex = (randomOffset + Math.floor(visibleSymbols / 2)) % totalSymbols;
            const resultSymbol = reel.children[resultIndex];
            results.push({
              name: resultSymbol.getAttribute('data-name'),
              color: resultSymbol.getAttribute('data-color'),
              emoji: resultSymbol.textContent
            });
            
            // Check if all reels have stopped
            if (results.length === reels.length) {
              evaluateResults(results);
            }
          }, 3000);
        }, index * 300);
      });
    });
    
    // Evaluate the spin results
    function evaluateResults(results) {
      spinning = false;
      
      // Re-enable spin button
      spinBtn.disabled = false;
      spinBtn.style.opacity = '1';
      spinBtn.querySelector('.btn-text').textContent = 'SPIN AGAIN!';
      
      // Check for wins (simplified - win if all symbols match)
      const allSame = results.every(result => result.name === results[0].name);
      
      if (allSame) {
        // Big win
        winMessage.innerHTML = `JACKPOT! You've won: <span style="color: ${results[0].color}; font-weight: bold;">${results[0].name}</span> ${results[0].emoji}`;
        celebration.style.display = 'flex';
        createConfetti();
      } else {
        // Small win or try again
        const randomWin = Math.random() > 0.3; // 70% chance of some win
        if (randomWin) {
          const randomResult = results[Math.floor(Math.random() * results.length)];
          resultMessage.innerHTML = `You won: <span style="color: ${randomResult.color}; font-weight: bold;">${randomResult.name}</span> ${randomResult.emoji}`;
          resultMessage.style.display = 'block';
          resultMessage.style.color = randomResult.color;
          
          // Small confetti for minor wins
          createConfetti(30);
        } else {
          resultMessage.textContent = "Try again! Spin the slots for another chance to win!";
          resultMessage.style.display = 'block';
          resultMessage.style.color = "#167D9D";
        }
      }
    }
    
    // Claim prize button
    document.getElementById('claim-btn').addEventListener('click', () => {
      celebration.style.display = 'none';
      resultMessage.innerHTML = '🎊 Your prize has been added to your account! Check your rewards below. 🎊';
      resultMessage.style.display = 'block';
      resultMessage.style.color = '#75A439';
    });
    
    // Create confetti effect
    function createConfetti(count = 100) {
      const confettiContainer = document.querySelector('.confetti');
      confettiContainer.innerHTML = '';
      
      for (let i = 0; i < count; i++) {
        const confetti = document.createElement('div');
        confetti.style.position = 'absolute';
        confetti.style.width = '10px';
        confetti.style.height = '10px';
        confetti.style.backgroundColor = getRandomColor();
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        confetti.style.left = `${Math.random() * 100}%`;
        confetti.style.top = '-10px';
        confetti.style.opacity = '0';
        confetti.style.transform = 'rotate(0deg)';
        confetti.style.animation = `fall ${3 + Math.random() * 5}s linear forwards`;
        
        confettiContainer.appendChild(confetti);
        
        // Fade in
        setTimeout(() => {
          confetti.style.opacity = '0.8';
        }, 100);
      }
    }
    
    function getRandomColor() {
      const colors = ['#75A439', '#167D9D', '#FFD700', '#FF6B6B', '#A45CFF'];
      return colors[Math.floor(Math.random() * colors.length)];
    }
    
    function initFooterScripts() {
      const copyright = document.querySelector('.footer-bottom p') || document.querySelector('#footer-container p');
      if (copyright) {
        const year = new Date().getFullYear();
        copyright.innerHTML = `&copy; ${year} Nogaka. All rights reserved.`;
      }
    }
    
    function initHeaderScripts() {
      // Optional header logic
    }
    
    // Initialize the slot machine on load
    initializeSlots();
    
    // Add CSS animations
    const style = document.createElement('style');
    style.textContent = `
      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.1); }
        100% { transform: scale(1); }
      }
      @keyframes pulseBorder {
        0% { box-shadow: 0 0 0 0 rgba(117, 164, 57, 0.7); }
        70% { box-shadow: 0 0 0 10px rgba(117, 164, 57, 0); }
        100% { box-shadow: 0 0 0 0 rgba(117, 164, 57, 0); }
      }
      .premium-card:hover, .wheel-option:hover {
        transform: translateY(-5px) !important;
        box-shadow: 0 10px 20px rgba(0,0,0,0.4) !important;
      }
      .promo-text::after {
        content: '';
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 100%;
        height: 2px;
        background: white;
        transform: scaleX(0);
        transform-origin: right;
        transition: transform 0.5s;
      }
      .promo-text:hover::after {
        transform: scaleX(1);
        transform-origin: left;
      }
      .slot-symbol {
        animation: slotGlow 2s infinite alternate;
      }
      @keyframes slotGlow {
        from { opacity: 0.8; }
        to { opacity: 1; text-shadow: 0 0 10px currentColor; }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>

